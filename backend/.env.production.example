# Production Environment Variables Template
# Copy this file to .env.production and fill in actual values
# NEVER commit .env.production to version control

# ============================================
# Database Configuration
# ============================================
DATABASE_URL=postgresql://user:password@your-db-host:5432/vs_platform_prod

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# ============================================
# JWT Authentication
# ============================================
# IMPORTANT: Generate a strong random secret (e.g., using: openssl rand -base64 32)
JWT_SECRET=change-me-to-a-strong-random-secret-at-least-32-characters-long
JWT_EXPIRES_IN=7d

# ============================================
# Server Configuration
# ============================================
PORT=3001
NODE_ENV=production

# ============================================
# CORS Configuration
# ============================================
FRONTEND_ORIGIN=https://your-frontend-domain.com
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://www.your-frontend-domain.com

# ============================================
# Storage Configuration
# ============================================
# Options: 'local' or 's3'
STORAGE_MODE=s3

# ============================================
# AWS S3 Configuration (required if STORAGE_MODE=s3)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=your-s3-bucket-name

# Optional: Prefix HLS files by category role
HLS_PREFIX_BY_CATEGORY=false

# ============================================
# Worker Configuration
# ============================================
TRANSCODING_CONCURRENCY=2
LIVE_STREAM_CONCURRENCY=1

# ============================================
# Temporary Directory
# ============================================
TEMP_DIR=/tmp/transcode

# ============================================
# Security Recommendations
# ============================================
# 1. Use strong, randomly generated secrets (openssl rand -base64 32)
# 2. Enable SSL/TLS for all database connections
# 3. Use AWS IAM roles instead of access keys when possible
# 4. Restrict Redis access to internal network only
# 5. Enable Redis AUTH and use strong passwords
# 6. Regularly rotate secrets and credentials
# 7. Use secrets management service (AWS Secrets Manager, HashiCorp Vault, etc.)
# 8. Enable database connection pooling
# 9. Set up firewall rules to restrict access
# 10. Monitor and log all access attempts
